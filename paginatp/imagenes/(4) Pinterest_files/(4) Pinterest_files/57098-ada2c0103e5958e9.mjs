(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[57098],{288668:(e,t,n)=>{var i=n(883369),r=n(90619),o=n(572385);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=r,s.prototype.has=o,e.exports=s},282908:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},690939:(e,t,n)=>{var i=n(902492),r=n(637005);e.exports=function e(t,n,o,s,a){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!=t&&n!=n:i(t,n,o,s,e,a))}},902492:(e,t,n)=>{var i=n(646384),r=n(967114),o=n(518351),s=n(916096),a=n(664160),l=n(701469),d=n(644144),c=n(936719),u="[object Arguments]",p="[object Array]",h="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,f,_,v){var x=l(e),g=l(t),b=x?p:a(e),y=g?p:a(t),P=(b=b==u?h:b)==h,C=(y=y==u?h:y)==h,w=b==y;if(w&&d(e)){if(!d(t))return!1;x=!0,P=!1}if(w&&!P)return v||(v=new i),x||c(e)?r(e,t,n,f,_,v):o(e,t,b,n,f,_,v);if(!(1&n)){var j=P&&m.call(e,"__wrapped__"),I=C&&m.call(t,"__wrapped__");if(j||I){var S=j?e.value():e,T=I?t.value():t;return v||(v=new i),_(S,T,n,f,v)}}return!!w&&(v||(v=new i),s(e,t,n,f,_,v))}},540098:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,i,r,o){for(var s=-1,a=n(t((i-e)/(r||1)),0),l=Array(a);a--;)l[o?a:++s]=e,e+=r;return l}},274757:e=>{e.exports=function(e,t){return e.has(t)}},747445:(e,t,n)=>{var i=n(540098),r=n(816612),o=n(418601);e.exports=function(e){return function(t,n,s){return s&&"number"!=typeof s&&r(t,n,s)&&(n=s=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),s=void 0===s?t<n?1:-1:o(s),i(t,n,s,e)}}},967114:(e,t,n)=>{var i=n(288668),r=n(282908),o=n(274757);e.exports=function(e,t,n,s,a,l){var d=1&n,c=e.length,u=t.length;if(c!=u&&!(d&&u>c))return!1;var p=l.get(e),h=l.get(t);if(p&&h)return p==t&&h==e;var m=-1,f=!0,_=2&n?new i:void 0;for(l.set(e,t),l.set(t,e);++m<c;){var v=e[m],x=t[m];if(s)var g=d?s(x,v,m,t,e,l):s(v,x,m,e,t,l);if(void 0!==g){if(g)continue;f=!1;break}if(_){if(!r(t,(function(e,t){if(!o(_,t)&&(v===e||a(v,e,n,s,l)))return _.push(t)}))){f=!1;break}}else if(v!==x&&!a(v,x,n,s,l)){f=!1;break}}return l.delete(e),l.delete(t),f}},518351:(e,t,n)=>{var i=n(562705),r=n(611149),o=n(977813),s=n(967114),a=n(668776),l=n(321814),d=i?i.prototype:void 0,c=d?d.valueOf:void 0;e.exports=function(e,t,n,i,d,u,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=a;case"[object Set]":var m=1&i;if(h||(h=l),e.size!=t.size&&!m)return!1;var f=p.get(e);if(f)return f==t;i|=2,p.set(e,t);var _=s(h(e),h(t),i,d,u,p);return p.delete(e),_;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},916096:(e,t,n)=>{var i=n(458234),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,s,a){var l=1&n,d=i(e),c=d.length;if(c!=i(t).length&&!l)return!1;for(var u=c;u--;){var p=d[u];if(!(l?p in t:r.call(t,p)))return!1}var h=a.get(e),m=a.get(t);if(h&&m)return h==t&&m==e;var f=!0;a.set(e,t),a.set(t,e);for(var _=l;++u<c;){var v=e[p=d[u]],x=t[p];if(o)var g=l?o(x,v,p,t,e,a):o(v,x,p,e,t,a);if(!(void 0===g?v===x||s(v,x,n,o,a):g)){f=!1;break}_||(_="constructor"==p)}if(f&&!_){var b=e.constructor,y=t.constructor;b==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(f=!1)}return a.delete(e),a.delete(t),f}},668776:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}},90619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},572385:e=>{e.exports=function(e){return this.__data__.has(e)}},321814:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},618446:(e,t,n)=>{var i=n(690939);e.exports=function(e,t){return i(e,t)}},396026:(e,t,n)=>{var i=n(747445)();e.exports=i},560053:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<o(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,s=r>>>1;i<s;){var a=2*(i+1)-1,l=e[a],d=a+1,c=e[d];if(0>o(l,n))d<r&&0>o(c,l)?(e[i]=c,e[d]=n,i=d):(e[i]=l,e[a]=n,i=a);else{if(!(d<r&&0>o(c,n)))break e;e[i]=c,e[d]=n,i=d}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var d=[],c=[],u=1,p=null,h=3,m=!1,f=!1,_=!1,v="function"==typeof setTimeout?setTimeout:null,x="function"==typeof clearTimeout?clearTimeout:null,g="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var t=i(c);null!==t;){if(null===t.callback)r(c);else{if(!(t.startTime<=e))break;r(c),t.sortIndex=t.expirationTime,n(d,t)}t=i(c)}}function y(e){if(_=!1,b(e),!f)if(null!==i(d))f=!0,M(P);else{var t=i(c);null!==t&&O(y,t.startTime-e)}}function P(e,n){f=!1,_&&(_=!1,x(I),I=-1),m=!0;var o=h;try{for(b(n),p=i(d);null!==p&&(!(p.expirationTime>n)||e&&!E());){var s=p.callback;if("function"==typeof s){p.callback=null,h=p.priorityLevel;var a=s(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?p.callback=a:p===i(d)&&r(d),b(n)}else r(d);p=i(d)}if(null!==p)var l=!0;else{var u=i(c);null!==u&&O(y,u.startTime-n),l=!1}return l}finally{p=null,h=o,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,w=!1,j=null,I=-1,S=5,T=-1;function E(){return!(t.unstable_now()-T<S)}function A(){if(null!==j){var e=t.unstable_now();T=e;var n=!0;try{n=j(!0,e)}finally{n?C():(w=!1,j=null)}}else w=!1}if("function"==typeof g)C=function(){g(A)};else if("undefined"!=typeof MessageChannel){var k=new MessageChannel,R=k.port2;k.port1.onmessage=A,C=function(){R.postMessage(null)}}else C=function(){v(A,0)};function M(e){j=e,w||(w=!0,C())}function O(e,n){I=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,M(P))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return i(d)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,r,o){var s=t.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(c,e),null===i(d)&&e===i(c)&&(_?(x(I),I=-1):_=!0,O(y,o-s))):(e.sortIndex=a,n(d,e),f||m||(f=!0,M(P))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},363840:(e,t,n)=>{e.exports=n(560053)},653250:(e,t,n)=>{var i=n(667294);var r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=i.useState,s=i.useEffect,a=i.useLayoutEffect,l=i.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(i){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=o({inst:{value:n,getSnapshot:t}}),r=i[0].inst,c=i[1];return a((function(){r.value=n,r.getSnapshot=t,d(r)&&c({inst:r})}),[e,n,t]),s((function(){return d(r)&&c({inst:r}),e((function(){d(r)&&c({inst:r})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:c},950139:(e,t,n)=>{var i=n(667294),r=n(61688);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=r.useSyncExternalStore,a=i.useRef,l=i.useEffect,d=i.useMemo,c=i.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,i,r){var u=a(null);if(null===u.current){var p={hasValue:!1,value:null};u.current=p}else p=u.current;u=d((function(){function e(e){if(!l){if(l=!0,s=e,e=i(e),void 0!==r&&p.hasValue){var t=p.value;if(r(t,e))return a=t}return a=e}if(t=a,o(s,e))return t;var n=i(e);return void 0!==r&&r(t,n)?t:(s=e,a=n)}var s,a,l=!1,d=void 0===n?null:n;return[function(){return e(t())},null===d?void 0:function(){return e(d())}]}),[t,n,i,r]);var h=s(e,u[0],u[1]);return l((function(){p.hasValue=!0,p.value=h}),[h]),c(h),h}},61688:(e,t,n)=>{e.exports=n(653250)},552798:(e,t,n)=>{e.exports=n(950139)},357409:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(53987),r=n(925927);function o(e){const t=(0,r.TH)(),n=(0,r.UO)(),o=(0,r.k6)();return()=>{if(e&&(0,i.L6)(t)&&n.id===e.id){var r,s,a,l;const t="quick_saves"===(null===(r=e.board)||void 0===r?void 0:r.layout)||"quick_creates"===(null===(s=e.board)||void 0===s?void 0:s.layout)?"/me/":null!==(a=null===(l=e.board)||void 0===l?void 0:l.url)&&void 0!==a?a:"/";o.replace(t)}}}},101136:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),r=n(121093),o=n(499128),s=n(407043),a=n(785893);const l=e=>{const{logContextEvent:t}=(0,s.v)();return(0,a.jsx)(r.Z,{eligibleIds:e.eligibleIds,placementId:e.placementId,eligibleTypes:[10],children:({complete:n,dismiss:i,experience:{display_data:r}})=>{const s=r.link||e.linkUrl;return(0,a.jsx)(o.ZP,{duration:r.duration,href:s,text:r.text||"",onClick:()=>{n(),e.onClick&&e.onClick(),e.shouldLogClicks&&e.shouldLogClicks&&t({event_type:101,object_id_str:e.objectId,component:e.thriftComponentType,element:e.thriftElementType})},onHide:()=>{e.onHide(),e.completionOnDismissal?n():i()}})}})};var d=n(343341);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=2e3;class p extends i.Component{constructor(...e){super(...e),c(this,"componentDidMount",(()=>{const{delay:e=u}=this.props;this.experienceToastsTimeout=window.setTimeout((()=>this.triggerEducationToasts()),e)}))}componentWillUnmount(){window.clearTimeout(this.experienceToastsTimeout)}triggerEducationToasts(){const{toastManagerContext:e,completionOnDismissal:t,placementId:n,experienceIds:i}=this.props;e.showOneToast((({hideToast:e})=>(0,a.jsx)(l,{experienceIds:i,completionOnDismissal:t,onHide:e,placementId:n,shouldLogClicks:!1})))}render(){return null}}function h(e){return(0,a.jsx)(p,{...e,toastManagerContext:(0,d.F9)()})}c(p,"defaultProps",{completionOnDismissal:!1})},396704:(e,t,n)=>{n.d(t,{Z:()=>u,o:()=>c});var i=n(898781),r=n(19121),o=n(444445),s=n(407043),a=n(946984),l=n(883119),d=n(785893);const c="AddPinRep";function u({ctaText:e,handleClick:t,height:n,iconSize:c,textSize:u}){const{logContextEvent:p}=(0,s.v)(),h=(0,i.ZP)(),m=(0,r.Z)(),f=(0,a.Z)({shouldStopEventPropagation:!1})((()=>{t&&t(),m.isPartner&&p({event_type:101,component:0,element:10643})}));return(0,d.jsx)(l.xu,{children:(0,d.jsx)(l.iP,{role:"link",onTap:f,href:"/pin-builder/",children:(0,d.jsxs)(l.Zb,{children:[(0,d.jsx)(l.xu,{alignItems:"center",color:"secondary",display:"flex",fit:!0,height:n||o.yF,justifyContent:"center",rounding:2,width:n||void 0,children:(0,d.jsx)(l.xu,{color:"default",height:c||40,rounding:"circle",width:c||40,children:(0,d.jsx)(l.JO,{accessibilityLabel:"",color:"error",icon:"add-circle",inline:!0,size:c||40})})}),(0,d.jsx)(l.xu,{padding:2,children:(0,d.jsx)(l.xv,{color:"subtle",size:u||"300",weight:"bold",children:e||h._('Create Pin', 'label to open create pin modal', 'label to open create pin modal')})})]})})})}},691024:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(966338),r=n(396704),o=n(271807),s=n(778993),a=n(883119),l=n(785893);const d=1.25*s.J;function c({story:e}){const{action:{text:t,url:n},custom_properties:{image:i,image_alt:r}}=e;return(0,l.jsxs)(a.xu,{position:"relative",children:[(0,l.jsx)(a.zd,{rounding:4,height:d,width:s.J,children:(0,l.jsx)(a.Ee,{alt:r,color:"black",fit:"cover",naturalHeight:2688,naturalWidth:2e3,src:i})}),(0,l.jsx)(a.xu,{bottom:!0,display:"flex",justifyContent:"center",position:"absolute",width:s.J,padding:4,children:(0,l.jsx)(a.zx,{role:"link",href:n,fullWidth:!0,color:"white",text:t})})]})}const u=(0,i.connect)(((e,t)=>({story:e.stories[t.storyId]})),(()=>({})))((function({story:e,...t}){if(!e)return null;switch(e.story_type){case"BUBBLE_ONE_COL":return(0,l.jsx)(o.Z,{bubbles:e.objects,id:t.storyId,referringSource:e.referring_source,slotIndex:t.slot,storyType:e.story_type,title:e.title,viewType:t.viewType,viewParameter:t.viewParameter});case"feed_card_default":case"feed_card_video":return(0,l.jsx)(c,{story:e});case"add_pin":return(0,l.jsx)(r.Z,{});default:return null}}))},880544:(e,t,n)=>{n.d(t,{Z:()=>A});var i=n(667294),r=n(966338),o=n(124237),s=n(417498),a=n(768559),l=n(820384),d=n(674578),c=n(140582),u=n(6637),p=n(342877),h=n(357409),m=n(19121),f=n(281615),_=n(349700),v=n(293880),x=n(482546),g=n(232843),b=n(898781),y=n(946984),P=n(935409),C=n(941353),w=n(243550),j=n(558068),I=n(925927),S=n(785893);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends i.PureComponent{constructor(...e){super(...e),T(this,"state",{step:"unsaved"}),T(this,"deletePin",(e=>u.ZP.create("PinResource",{id:e}).callDelete())),T(this,"repin",(()=>{const{location:e,pin:t,target:{board:n,boardSection:i},eventContext:r,previousHistory:o}=this.props,s=(0,a.Z)(t,e,o)||`${t.tracking_params||""}-0`,l=!t.id&&t.image_url?(0,c.Z)(t.image_url,t.link):"",d=i&&i.id,p={board_id:n.id||"",clientTrackingParams:s,description:t.description||"",image_base64:t.image_base64,link:t.link,image_url:l,is_buyable_pin:!1,is_removable:t.promoted_is_removable,media_upload_id:t.media_upload_id,pin_id:t.id||"",section:d,title:t.title||"",eventContext:r};return u.ZP.create("RepinResource",p).callCreate({showError:!1})})),T(this,"handleSave",this.props.requireAuth((()=>{const{onSave:e,makeCancelablePromise:t}=this.props,{step:n}=this.state;if("unsaving"===n)return void this.setState({step:"saving"});this.setState({step:"saving"});t(this.repin().then((({resource_response:{data:e}})=>this.shouldCompleteSave(e)))).then(e).catch((({isCanceled:e})=>{if(!e){const{target:{board:e,boardSection:t}}=this.props;o.Z.showError(t?(0,_.nk)(this.props.i18n._('Failed to save the Pin to {{sectionName}}', 'Error message when failed to save to a section within a board', 'Error message when failed to save to a section within a board'),{sectionName:t.title}).join(""):(0,_.nk)(this.props.i18n._('Failed to save the Pin to {{boardName}}', 'Error message when failed to save to a board', 'Error message when failed to save to a board'),{boardName:e.name}).join(""))}}))}))),T(this,"shouldCompleteSave",(e=>{const{saveToBoard:t,pin:n,dispatch:i,target:{board:r,boardSection:o}}=this.props,{step:s}=this.state,a=o&&o.id,d={pinId:n.id,boardId:r.id,sectionId:a,title:n.title||""};if("saving"===s){this.props.onPinCreate&&this.props.onPinCreate({boardId:e.board.id,pinId:e.id}),t(r),i((0,l.Z)({feedId:a||r.id,feedType:a?f.DV.SECTION_PINS:f.DV.BOARD_PINS,itemIds:[n.id],itemType:"pin"}));const{image_url:s,images:c}=n,u=s||(null==c?void 0:c["236x"])&&c["236x"].url||"";return!o&&r.image_cover_url||(r.image_cover_url=u,i((0,P.yT)(r))),i((0,w.a1)({...d,localPinId:e.id})),i((0,P.Br)({boardId:r.id,sectionId:o?o.id:void 0,increment:1})),i((0,x.JS)({userId:e.pinner.id,increment:1})),this.setState({step:"saved"}),e}"unsaving"===s&&this.handleUnsave(e.id)})),T(this,"handleUnsave",(e=>{const{step:t}=this.state,{savedInfo:n}=this.props;if("unsaved"===t)return;if("saving"===t)return void this.setState({step:"unsaving"});const i=n&&n.localPinId||e;i&&(this.setState({step:"unsaving"}),this.deletePin(i).then((()=>this.shouldCompleteUnsave())))})),T(this,"shouldCompleteUnsave",(()=>{const{pin:e,savedInfo:t,target:{board:n,boardSection:i},dispatch:r,onDelete:o,viewerId:a}=this.props,{step:l}=this.state;if("unsaving"===l){if(t){const t=null==i?void 0:i.id;r((0,w.jg)({pinId:e.id})),r((0,P.Br)({boardId:n.id,sectionId:t,increment:-1})),r((0,x.JS)({userId:a,increment:-1})),r((0,v.xQ)(n.id)),r((0,d.Z)({feedId:t||n.id,feedType:t?f.DV.SECTION_PINS:f.DV.BOARD_PINS,itemIds:[e.id],itemType:"pin"})),t&&r((0,s.Z)(t)),o&&o()}this.setState({step:"unsaved"})}"saving"===l&&this.handleSave()}))}render(){const{children:e,savedInfo:t}=this.props,{step:n}=this.state;return e({save:this.handleSave,saved:"saved"===n||"saving"===n||!(!t||!t.localPinId),savedInfo:t,unsave:this.handleUnsave})}}const A=(0,r.connect)(((e,{pin:{id:t}})=>({savedInfo:e.pins[t]&&e.pins[t].savedInfo})))((function(e){var t;const{previous:n}=(0,j.H)(),{saveToBoard:i}=(0,C.N)(),r=null===(t=(0,g.W)())||void 0===t?void 0:t.onPinCreate,o=(0,b.ZP)(),s=(0,p.Z)(),a=(0,I.TH)(),l=(0,y.Z)(),d=(0,m.Z)(),c=(0,h.Z)(e.pin);return(0,S.jsx)(E,{...e,previousHistory:n,saveToBoard:i,location:a,makeCancelablePromise:s,onDelete:()=>{var t;c(),null===(t=e.onDelete)||void 0===t||t.call(e)},onPinCreate:r,requireAuth:l,i18n:o,viewerId:d.isAuth?d.id:""})}))},330470:(e,t,n)=>{n.d(t,{ZP:()=>ce,f0:()=>ne});var i=n(667294),r=n(966338),o=n(946327),s=n(4392),a=n(124237),l=n(101136),d=n(280773),c=n(883119),u=n(785893);const p=function({accessibilityLabel:e,show:t}){return t?(0,u.jsx)(c.kC,{alignItems:"stretch",justifyContent:"around",overflow:"hidden",children:(0,u.jsx)("div",{className:"instant-spinner-icon",children:(0,u.jsx)(c.JO,{icon:"knoop",accessibilityLabel:e,size:40})})}):(0,u.jsx)(c.xu,{})};var h=n(898781),m=n(349700);function f({boardName:e}){const t=(0,h.ZP)();return(0,u.jsxs)(c.xu,{display:"flex",direction:"column",alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingTop:108}},children:[(0,u.jsx)(c.xu,{marginBottom:4,children:(0,u.jsx)(p,{show:!0,accessibilityLabel:t._('Loading', ' - ', ' -- ')})}),(0,u.jsx)(c.X6,{size:"500",children:t._('Board Created!', 'Message following board creation', 'Message following board creation')}),(0,u.jsx)(c.X6,{size:"500",children:(0,m.nk)(t._('Finding pins to add to {{boardName}}...', 'Message while more ideas for board loads', 'Message while more ideas for board loads'),{boardName:e})})]})}function _(e){const t=(0,h.ZP)(),{collection:n,isRedirectExperimentReferrer:i,resource:r}=e,{data:o,isFetching:s}=r;var a;return i&&!o&&"board"===n.type?(0,u.jsx)(f,{boardName:null!==(a=n.name)&&void 0!==a?a:""}):(0,u.jsx)(c.$j,{accessibilityLabel:t._('Loading Board More Ideas Feed', 'accessibility label for board more ideas tab loading spinner', 'accessibility label for board more ideas tab loading spinner'),show:s})}var v=n(572551);function x(e){const t=(0,h.ZP)(),{hideHeader:n,name:i,onClick:r,url:o=""}=e;return(0,u.jsx)(c.xu,{"data-test-id":"isHomeFeed",dangerouslySetInlineStyle:{__style:{paddingTop:n?25:60}},display:"flex",justifyContent:"center",padding:4,children:!n&&(0,u.jsx)(c.xv,{children:(0,m.nk)(t._('More ideas for your board {{ boardLink }}', 'More ideas for your board', 'More ideas for your board'),{boardLink:(0,u.jsx)(c.rU,{href:o,inline:!0,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),r()},underline:"hover",children:i},i)})})})}var g=n(691024),b=n(333312),y=n(880544),P=n(301921);function C(e){const{boardId:t,boardTitle:n,boardUrl:i,index:r,moreIdeasSaveToolTipExperienceIds:o,oneTapSaveTarget:s,onSave:a,pin:l,showMoreIdeasSaveTooltip:d,viewParameter:c,viewType:p}=e;return(0,u.jsx)(y.Z,{pin:l,onSave:a,target:s,eventContext:{viewType:p,viewParameter:c,element:10599},children:({save:e,unsave:s,saved:a,savedInfo:h})=>{const m=d?e=>(0,u.jsx)(b.default,{anchor:e,boardTextOverride:n,experienceIds:o,idealDirection:"down",placementId:1000121,textOverflow:"normal",useMasonryFlyout:!0}):void 0;return(0,u.jsx)(P.default,{attributionOption:"hide",pin:l,pinId:l.id,pinImageCrop:"none",saveButtonOptions:{renderPinSaveTooltip:m,save:e,unsave:s,saved:a,savedInfo:{...h,boardId:t,pinId:l.id,title:n,url:i},type:"persistentOneClickSave"},surface:"BoardMoreIdeasTabContent",trackingParameters:{slotIndex:r,viewParameter:c,viewType:p}})}})}var w=n(294184),j=n.n(w),I=n(407043);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends i.Component{constructor(...e){super(...e),S(this,"state",{hovered:!1}),S(this,"handleTouch",(e=>()=>{const{onSelect:t}=this.props;this.props.logContextEvent({event_type:101,element:10444}),t(e)})),S(this,"handleHover",(e=>()=>this.setState({hovered:e})))}render(){const{recommendation:e}=this.props,{hovered:t}=this.state;return(0,u.jsxs)(c.xu,{position:"relative",onMouseEnter:this.handleHover(!0),onMouseLeave:this.handleHover(!1),children:[(0,u.jsx)(c.iP,{fullWidth:!1,onTap:this.handleTouch(e),rounding:2,children:(0,u.jsxs)(c.xu,{paddingY:1,alignItems:"center",display:"flex",children:[(0,u.jsx)(c.xu,{paddingX:1,children:(0,u.jsx)(c.JO,{accessibilityLabel:this.props.i18n._('Add section', 'Accessibility label for add icon', 'Accessibility label for add icon'),icon:"add",size:18})}),(0,u.jsx)(c.xu,{paddingX:1,children:(0,u.jsx)(c.xv,{color:"subtle",weight:"bold",children:e.name})})]})}),(0,u.jsx)("div",{className:j()("sectionHoverSurface",{hover:t})})]},e.name)}}function E(e){const{logContextEvent:t}=(0,I.v)(),n=(0,h.ZP)();return(0,u.jsx)(T,{...e,i18n:n,logContextEvent:t})}function A(e){const t=(0,h.ZP)(),{recommendations:n}=e;return(0,u.jsx)(o.Z,{children:(0,u.jsxs)(c.xu,{paddingY:2,children:[(0,u.jsx)(c.xu,{paddingY:2,children:(0,u.jsx)(c.xv,{children:(0,u.jsx)("span",{className:"deprecatedTextSizeXL",children:t._('Sections to try', 'title for section title recommendations on more ideas tab', 'title for section title recommendations on more ideas tab')})})}),(0,u.jsx)(c.xu,{paddingY:2,children:(0,u.jsx)(c.kC,{alignItems:"center",justifyContent:"start",width:"100%",wrap:!0,children:n.map((e=>(0,u.jsx)(c.xu,{padding:2,children:(0,u.jsx)(E,{onSelect:this.handleSelectSectionRecommendation,recommendation:e})},e.id)))})})]})})}var k=n(396026),R=n.n(k),M=n(121151),O=n(552167),Z=n(499128),z=n(784590),B=n(683190),L=n(343341);function D({boardId:e,handleAddClick:t,onDismiss:n,pins:o,suggestedSectionTitle:a}){const{logContextEvent:l}=(0,I.v)(),d=(0,h.ZP)(),p=(0,i.useRef)(null),[m,f]=(0,i.useState)([]),{showToast:_}=(0,L.F9)(),v=(0,z.Z)({name:"BatchP2PResource",options:{clientType:"84",page_size:10,pinIds:o.map((e=>e.id))}}),x=(0,r.useDispatch)(),g=(e,t)=>{const n=[...m],i=n.indexOf(e);t&&-1===i?n.push(e):t||-1===i||n.splice(i,1),f(n)};return(0,u.jsx)(M.ZP,{accessibilityModalLabel:d._('Add suggested pins to your newly created section modal', 'suggestedPinsModal.modal.accessibilityLabelForModal', 'Accessibility label for modal'),allowScroll:!0,footer:(0,u.jsx)(c.kC,{alignItems:"stretch",justifyContent:"end",children:(0,u.jsx)(c.zx,{color:m.length<1?"gray":"red",disabled:m.length<1,onClick:()=>{t(a),x((0,s.Z)({boardId:e,name:a,initialPinIds:m},d)).then((()=>{x((0,B.Tq)(e,"pin_count")),n()})),_((({hideToast:e})=>(0,u.jsx)(Z.ZP,{duration:4e3,onHide:e,text:d._('Section added!', 'suggestedPinsModal.addSectionSubmit.toast', 'Message confirming that a section has been added.')}))),l({event_type:101,component:13772,element:76,view_type:5,view_parameter:3173,aux_data:{number_pins_selected:m.length,selected_pin_ids:m,suggested_section_name:a}})},size:"lg",text:d._('Done', 'suggestedPinsModal.footer.addSectionButton', 'Add pins and section')})}),heading:d._('Great! Pick some ideas to start off your section.', 'suggestedPinsModal.modal.heading', 'Heading for modal to add suggested pins to your newly created section'),onDismiss:n,size:704,children:(0,u.jsxs)(c.xu,{maxHeight:600,maxWidth:704,ref:p,overflow:"auto",children:[v.isLoaded&&v.data&&(0,u.jsx)(c.Rk,{columnWidth:152,comp:({data:e,itemIdx:t})=>(0,u.jsx)(O.Z,{index:t,isSelected:m.includes(e.id),pin:e,handlePinSelectionChanged:g}),gutterWidth:16,items:v.data,loadItems:v.fetchMore,scrollContainer:()=>p.current||window}),(0,u.jsx)(c.$j,{accessibilityLabel:d._('Loading pins', 'suggestedPinsModal.modal.spinner', 'Loading indicator'),show:v.isFetching})]})})}const N=new c.Ry(2);function U({boardId:e,handleAddClick:t,pins:n=[],sectionTitle:r,wasSectionAdded:o}){const{logContextEvent:s}=(0,I.v)(),a=(0,h.ZP)(),[l,d]=(0,i.useState)(!1);return(0,u.jsxs)(c.xu,{opacity:o?.2:1,zIndex:N,children:[(0,u.jsx)(c.xu,{paddingY:2,position:"relative",children:(0,u.jsx)(c.iP,{disabled:o,onTap:()=>{d(!0),s({event_type:101,component:13772,view_type:5,view_parameter:3173,aux_data:{suggested_section_name:r}})},rounding:4,children:(0,u.jsx)(i.Fragment,{children:(0,u.jsxs)(c.xu,{overflow:"hidden",position:"relative",rounding:4,width:237,children:[(0,u.jsx)(c.kC,{alignItems:"stretch",justifyContent:"start",children:R()(0,2).map((e=>{var t,i;const o=n[e];return(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:1}},children:(0,u.jsx)(c.xu,{height:157,width:118,children:o.image_medium_url&&(0,u.jsx)(c.Ee,{alt:`${r}-${e}`,color:"darkGray",fit:"cover",naturalHeight:(null===(t=o.image_medium_size_pixels)||void 0===t?void 0:t.height)||157,src:o.image_medium_url,naturalWidth:(null===(i=o.image_medium_size_pixels)||void 0===i?void 0:i.width)||118})})},e)}))}),(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},position:"absolute",children:(0,u.jsx)(c.zx,{accessibilityLabel:a._('Add a suggested section', 'sectionTemplates.addSectionButton.accessibilityLabel', 'Button for adding a suggested section'),color:"white",disabled:o,text:a._('Add', 'sectionTemplates.addSectionButton.buttonText', 'Button for adding a suggested section')})})]})})})}),(0,u.jsx)(c.xu,{height:40,width:237,paddingX:2,flex:"grow",children:(0,u.jsx)(c.X6,{color:"default",size:"400",lineClamp:1,children:r})}),l&&(0,u.jsx)(D,{boardId:e,handleAddClick:t,onDismiss:()=>d(!1),pins:n,suggestedSectionTitle:r})]})}function W({boardId:e,sectionTemplates:t}){const{logContextEvent:n}=(0,I.v)(),r=(0,h.ZP)(),[o,s]=(0,i.useState)([]);(0,i.useEffect)((()=>{const e=[];t.forEach((t=>e.push(t.name))),n({event_type:13,component:13772,view_type:5,view_parameter:3173,aux_data:{suggested_section_names_viewed:e}})}),[n,t]);const a=e=>{const t=[...o];t.push(e),s(t)};return(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(c.xu,{display:"flex",justifyContent:"center",marginTop:-4,padding:1,children:(0,u.jsx)(c.xv,{size:"300",children:r._('Sections and Pins for you', 'sectionTemplatesStory.subtitle.text', 'Subtitle describing sections and pins below')})}),(0,u.jsx)(c.xu,{display:"flex",justifyContent:"center",marginStart:6,marginEnd:6,wrap:!0,children:t.map((t=>(0,u.jsx)(c.xu,{display:"flex",padding:2,children:(0,u.jsx)(U,{boardId:e,pins:t.pins,sectionTitle:t.name,handleAddClick:a,wasSectionAdded:o.includes(t.name)})},t.id)))})]})}var F=n(430323),H=n(784450),V=n(293880),$=n(444445),G=n(620707),q=n(708206),Y=n(414327);function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const J=e=>"board"===e?1000121:1000122,K=(0,G.qe)((e=>[501291,501082,...e===String(22)?[501151]:[]]));class Q extends i.Component{constructor(...e){super(...e),X(this,"state",{sectionNameAddedMap:{}}),X(this,"handleClickLogging",(e=>{this.props.logContextEvent({event_type:101,component:10599===e?0:void 0,element:e,view_type:this.viewType,view_parameter:this.viewParameter})})),X(this,"handleBoardLinkClick",(()=>{this.handleClickLogging(11083)})),X(this,"handleSave",(()=>{this.props.invalidateCollectionFeed(),this.handleClickLogging(10599)})),X(this,"renderGridItem",(({data:e,itemIdx:t})=>{const{collection:n,eligibleSaveToolTipExperience:i,viewerIsOwnerOrCollaborator:r}=this.props,o="board_section"===n.type?n.board.url:n.url;if("story"===e.type)return(0,u.jsx)(g.Z,{slot:t,storyId:e.id,viewType:this.viewType,viewParameter:this.viewParameter});const s=e,a="board_section"===n.type?n.board.id:n.id,l=0===t&&i;return r?(0,u.jsx)(C,{boardId:a,boardTitle:this.boardTitle,boardUrl:o,index:t,moreIdeasSaveToolTipExperienceIds:this.moreIdeasSaveToolTipExperienceIds,oneTapSaveTarget:this.oneTapSaveTarget,onSave:this.handleSave,pin:s,showMoreIdeasSaveTooltip:l,viewParameter:this.viewParameter,viewType:this.viewType}):(0,u.jsx)(P.default,{attributionOption:"hide",pin:s,pinId:s.id,pinImageCrop:"none",saveButtonOptions:{type:"inline",onSave:this.handleSave},surface:"BoardMoreIdeasTabContent",trackingParameters:{slotIndex:t,viewParameter:this.viewParameter,viewType:this.viewType}})}))}componentDidMount(){const{collection:e,disableBadging:t}=this.props;"board"===e.type&&t(e.id)}get boardTitle(){var e;const{collection:t}=this.props;return"board_section"===t.type?t.title:null!==(e=t.name)&&void 0!==e?e:""}get moreIdeasSaveToolTipExperienceIds(){const{ideasReferrer:e}=this.props;return K(e)}get viewParameter(){const{collection:e}=this.props;return"board"===e.type?3173:3174}get viewType(){const{collection:e,isHomefeed:t}=this.props;return t?1:"board"===e.type?5:164}get oneTapSaveTarget(){const{collection:e}=this.props;if("board"===e.type)return{board:e};const t=e;return{board:t.board,boardSection:t}}get isRedirectExperimentReferrer(){const{ideasReferrer:e}=this.props;return e===String(22)}render(){const{collection:e,hideHeader:t,isHomefeed:n,reducePadding:i,resource:r}=this.props,{fetchMore:s,isAtEnd:a,isFetching:d,isLoaded:p,data:h}=r,{sectionNameAddedMap:m}=this.state,{sectionTemplatesStory:f,sectionNamesStory:g,items:b}=(h||[]).reduce((({sectionTemplatesStory:e,sectionNamesStory:t,items:n},i)=>("story"===i.type&&"section_title_recommendations"===i.story_type?t=i:"story"===i.type&&"board_section_templates"===i.story_type?e=i:("pin"===i.type||"story"===i.type&&"homefeed_board_tab_banner"!==i.story_type)&&(n=n.concat(i)),{sectionTemplatesStory:e,sectionNamesStory:t,items:n})),{sectionTemplatesStory:void 0,sectionNamesStory:void 0,items:[]}),y=g?(P=g,P.objects.reduce(((e,t)=>e.concat("board_section_name_recommendation"===t.type?[t]:[])),[])).filter((({name:e})=>!m[(e=>e.toLowerCase())(e)])):[];var P;const C=(b||[]).length>0&&this.isRedirectExperimentReferrer;return(0,u.jsx)(F.Z,{component:13204,view:this.viewType,viewParameter:this.viewParameter,children:(0,u.jsxs)(c.xu,{paddingY:i?0:2,children:[!!n&&"board"===e.type&&(0,u.jsx)(x,{hideHeader:!!t,name:e.name,onClick:this.handleBoardLinkClick,url:e.url}),(null==f?void 0:f.objects)&&(0,u.jsx)(W,{boardId:e.id,sectionTemplates:f.objects}),y.length>0&&(0,u.jsx)(A,{recommendations:y}),(b||[]).length>0&&(0,u.jsxs)(c.xu,{paddingY:2,children:[g&&(0,u.jsx)(o.Z,{children:(0,u.jsx)(c.xu,{paddingY:2,children:(0,u.jsx)(c.xv,{children:(0,u.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._('Pins you might like', 'title for pin recommendations on more ideas tab', 'title for pin recommendations on more ideas tab')})})})}),C&&(0,u.jsx)(o.Z,{children:(0,u.jsx)(c.xu,{marginBottom:4,children:(0,u.jsx)(c.xv,{children:this.props.i18n._('Based on your board\u2019s title, we think you\u2019ll love these Pins', 'title for pin recommendations on more ideas tab', 'title for pin recommendations on more ideas tab')})})}),(0,u.jsx)(c.xu,{paddingY:i?0:2,children:(0,u.jsx)(v.default,{columnWidth:$.yF,comp:this.renderGridItem,gutterWidth:24,isAtEnd:a,isFetching:d,isLoaded:p,items:b,loadItems:s})})]}),(0,u.jsx)(c.xu,{paddingY:t?5:0,children:(0,u.jsx)(_,{collection:e,isRedirectExperimentReferrer:this.isRedirectExperimentReferrer,resource:r})}),(0,u.jsx)(l.Z,{placementId:J(e.type)})]})})}}const ee="BoardContentRecommendationResource",te=({collection:e,forceBackendExperiments:t,from_news_id:n,ideasReferrer:i})=>{return{type:e.type,id:e.id,force_experiments:t&&(r=t,JSON.stringify(r.trim().split(",").reduce(((e,t)=>{const[n,i]=t.split(":");return n&&i?{...e,[n]:i}:e}),{}))),__track__from_news_id:n,__track__referrer:i};var r},ne=e=>(0,Y.jB)(ee,te(e)),ie=(e,t)=>{const{ideasReferrer:n}=t,{experiences:i}=e;return{eligibleSaveToolTipExperience:i&&i[1000121]&&K(n).includes(i[1000121].experience_id)}},re=(e,t)=>({createSection:n=>e((0,s.Z)({boardId:"board"===t.collection.type?t.collection.id:t.collection.board.id,name:n,nameSource:"RECOMMENDATION"},t.i18n)).catch((e=>{const{i18n:n}=t;a.Z.showError(e&&e.message||n._('Failed to create section', 'Error message for failed to create a section', 'Error message for failed to create a section'))})),disableBadging:t=>{e((0,V.ZP)(t))},invalidateCollectionFeed:()=>e((0,d.Z)("board"===t.collection.type?"boardPins":"sectionPins",t.collection.id))});function oe(e){const{logContextEvent:t}=(0,I.v)(),n=(0,z.Z)({name:ee,options:te(e)});return(0,u.jsx)(Q,{...e,resource:n,toastManagerContext:(0,L.F9)(),logContextEvent:t})}function se(e){return(0,q.compose)((0,r.connect)(ie,re),(0,H.ZP)(J(e),(e=>({["board"===e.collection.type?"board_id":"section_id"]:e.collection.id}))))}const ae=se("board")(oe);function le(e){const t=(0,h.ZP)();return(0,u.jsx)(ae,{...e,i18n:t})}le.displayName="BoardMoreIdeasTabContent";const de=le;se("board_section")(oe);const ce=de},946327:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),r=n(785893);function o({children:e,setMaxWidth:t=!0}){return(0,r.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:t?(0,r.jsx)(i.xu,{width:"100%",paddingX:2,maxWidth:774,children:e}):(0,r.jsx)(i.xu,{width:"100%",children:e})})}},552167:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),r=n(301921),o=n(883119),s=n(785893);function a({index:e,isSelected:t,pin:n,handlePinSelectionChanged:a}){const l=n.id,d=(0,i.useCallback)((({event:e})=>{e.preventDefault(),e.stopPropagation(),a(l,!t)}),[l,t]);return(0,s.jsx)(o.iP,{onTap:d,rounding:4,children:(0,s.jsx)(r.default,{attributionOption:"hide",blockClickEvents:!0,pin:n,pinId:n.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},selectionState:t?"selected-image-only":"deselected-image-only",surface:"SectionSuggestedPins",trackingParameters:{slotIndex:e}})})}},707210:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(966338),r=n(898781),o=n(330470),s=n(925927),a=n(558068),l=n(780280),d=n(883119),c=n(785893);function u({board:e,headerText:t,rightAction:n,section:u,subheading:p,url:h}){const m=(0,r.ZP)(),f=(0,s.k6)(),{previous:_}=(0,a.H)(),v=_.length>=1,x=(0,i.useDispatch)(),{isRTL:g}=(0,l.B)();return(0,c.jsxs)(d.xu,{alignItems:"center","data-test-id":"board-tool-header",display:"flex",justifyContent:"center",marginBottom:4,paddingY:4,position:"relative",width:"100%",children:[(0,c.jsx)(d.xu,{left:!g,padding:4,position:"absolute",right:g,children:(0,c.jsx)(d.hU,{accessibilityLabel:m._('Back', 'BoardToolHeader.IconButtonLabel', 'Accessibility label on back button'),icon:"directional-arrow-left",iconColor:"darkGray",onClick:()=>{e&&x((0,o.f0)({collection:e})),u&&x((0,o.f0)({collection:u})),v?f.goBack():f.replace(h)},size:"lg"})}),(0,c.jsxs)(d.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,c.jsx)(d.X6,{accessibilityLevel:1,align:"center",size:"500",children:t}),p]}),!!n&&(0,c.jsx)(d.xu,{left:g,padding:4,position:"absolute",right:!g,children:n})]})}},293880:(e,t,n)=>{n.d(t,{A8:()=>s,Cr:()=>a,ZP:()=>l,oG:()=>r,xQ:()=>o});var i=n(379725);const r=(e,t)=>n=>n((0,i.U2)("BoardResource",{options:{board_id:e,field_set_key:t}})),o=e=>r(e,"pin_count"),s=e=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e}}),a=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),l=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}})},820384:(e,t,n)=>{function i(e){return{type:"FEED_ITEMS_ADDED",payload:e}}n.d(t,{Z:()=>i})},243550:(e,t,n)=>{function i(e){return{type:"PIN_BETTER_SAVE",payload:e}}function r(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function o(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function s(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}n.d(t,{ND:()=>s,Vp:()=>o,a1:()=>i,jg:()=>r})},56641:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(567831),r=n(867820);function o(e,t){if(t&&!(()=>{try{return window.localStorage.test=2,!1}catch(e){return!0}})()){const t=window.open(e,"_blank");return t&&(t.opener=null),t}{const t=(0,i.Z)(e);return setTimeout((()=>{(0,r.My)("setting_new_window_location")}),0),window.location.href=t,window}}},123159:(e,t,n)=>{n.d(t,{F:()=>p,M:()=>u});var i=n(667294),r=n(966338),o=n(708206),s=n(957191),a=n(425288),l=n(332611),d=n(785893);const{Provider:c,useHook:u}=(0,a.Z)("ExperienceContext");function p({children:e}){const[t,n]=(0,i.useReducer)(((e,t)=>{if("MOUNT_PLACEMENT"===t.type)return{...e,[t.payload]:!0};if("UNMOUNT_PLACEMENT"===t.type){const n={...e};return delete n[t.payload],n}return e}),{}),a=(0,r.useDispatch)(),u=(0,r.useSelector)((e=>e.experiences)),p=(0,i.useMemo)((()=>{const e=(0,o.bindActionCreators)({completeExperience:l.CK,dismissExperience:l.Qu,fetchAllExperiences:l.fO,fetchAllExperiencesMulti:s.NW,fetchExperienceForPlacements:l.pz,mountPlacement:l.N,triggerExperimentsForPlacement:l.kd,viewExperience:l.UT},a);return{...e,mountPlacement:(t,...i)=>{e.mountPlacement(t,...i),n({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:e=>{n({type:"UNMOUNT_PLACEMENT",payload:e})}}}),[a,n]),h=(0,i.useMemo)((()=>({experiences:u,mountedPlacements:t,...p})),[u,t,p]);return(0,d.jsx)(c,{value:h,children:e})}},784450:(e,t,n)=>{n.d(t,{ZP:()=>m});var i=n(667294),r=n(966338),o=n(618446),s=n.n(o),a=n(764990),l=n(123159),d=n(332611),c=n(780280),u=n(785893);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h={shouldUsePlacedExperience:!0,dispatchMountActionDuringSSR:!1,isAdvertiserPlacement:!1},m=(e,t={},n)=>o=>{const m=function(e){return t=>({experience:t.experiences[e],experiencesMulti:t.experiencesMulti?t.experiencesMulti[e]:void 0})}(e);n={...h,...n};const f=function(e,t,n=!0,o=!0,h=!1,m){class f extends i.Component{constructor(e){super(e),p(this,"state",{extraContext:void 0}),p(this,"setExtraContextState",(e=>{s()(this.state.extraContext,e)||this.setState({extraContext:e})}))}componentDidMount(){this.dispatchPlacementMount()}componentDidUpdate(n,i){const{dispatch:r,experience:o,requestContext:a}=this.props;let l=i.extraContext,c=this.state.extraContext||t||{};"function"==typeof t&&(l=t(n,i.extraContext||{}),c=t(this.props,this.state.extraContext||{})),c&&Object.keys(c).length>0&&!s()(l,c)&&r((0,d.pz)([e],a.isBot,c)),!o||n.experience&&o.id===n.experience.id||r((0,d.kd)(e,c))}componentWillUnmount(){this.props.unmountPlacement(e)}dispatchPlacementMount(){const n="function"==typeof t?t(this.props,this.state.extraContext||{}):{...t},i=h&&null!=n&&n.advertiser_id?{advertiserId:n.advertiser_id}:void 0;this.props.mountPlacement(e,n,i)}render(){const{experience:e,experiencesMulti:t}=this.props,n={[h?"advertiserExperience":"experience"]:(0,a.E3)(e)?e:null};return(0,u.jsx)(m,{...this.props,setPlacementExtraContext:this.setExtraContextState,...n,experiencesMulti:t})}}function _(e){const t=(0,c.B)(),n=(0,r.useDispatch)(),{mountPlacement:i,unmountPlacement:o}=(0,l.M)();return(0,u.jsx)(f,{...e,dispatch:n,mountPlacement:i,requestContext:t,unmountPlacement:o})}return _.displayName=`withPlacement(${m.displayName||m.name||"Component"})`,_}(e,t,n.shouldUsePlacedExperience,n.dispatchMountActionDuringSSR,n.isAdvertiserPlacement,o);return(0,r.connect)(m)(f)}},572551:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var i=n(667294),r=n(319915),o=n(757184),s=n(317254),a=n(463076);function l(e=300,t=16,n=2){let i=`\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n  max-width: ${t*e}\n}\n\n.gridCentered .static,\n.gridCentered .Masonry-Premount .Collection-Item {\n  position: absolute !important;\n  visibility: hidden !important;\n}\n.gridCentered .Masonry-Premount,\n.gridCentered .Masonry-Premount .AutoSizer,\n.gridCentered .Masonry-Premount .Collection {\n  width: auto !important;\n}\n\n@media (min-width: ${t*e}px) {\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${t}),\n  .gridCentered .static:nth-child(-n+${t}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n\n  .gridCentered .Masonry-Premount .Collection-Item,\n  .gridCentered .static {\n    width: ${e}px !important;\n  }\n}\n`;for(let r=n;r<t+1;r+=1){i+=`\n@media (min-width: ${r===n?0:(r-1)*e}px) and (max-width: ${r*e-1}px) {\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${r}),\n  .gridCentered .static:nth-child(-n+${r}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n\n  .gridCentered .Masonry-Premount .Collection-Item,\n  .gridCentered .static {\n    width: calc(100% / ${r}) !important;\n  }\n}\n`}return i}var d=n(391254),c=n(883119),u=n(444445),p=n(785893);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends i.Component{constructor(...e){super(...e),h(this,"renderItem",(e=>{const{comp:t}=this.props,{gutterWidth:n,paddingBottom:i}=this.getGutters();return(0,p.jsx)("div",{style:{paddingBottom:i,paddingLeft:n/2,paddingRight:n/2},children:(0,p.jsx)(t,{...e})})}))}getGutters(){const{gutterWidth:e,paddingStyle:t}=this.props,n="simplified"===t,i=n?u.oX:e,r=n?16:6;return{gutterWidth:null!=i?i:u.ZZ,paddingBottom:r}}render(){const{columnWidth:e,flexible:t,items:n,layout:i,loadItems:r,masonryRef:o,measurementStore:s,scrollContainerRef:h,serverRender:m,virtualize:f,isGridCentered:_,minCols:v}=this.props,{gutterWidth:x}=this.getGutters(),g=m?"serverRenderedFlexible":"flexible";let b;_&&(b="gridCentered");const y=()=>(null==h?void 0:h.current)||window;return(0,p.jsxs)("div",{className:b,children:[m&&(0,p.jsx)(d.Z,{unsafeCSS:t?l((e||u.yF)+x,n.length||u.g5,v||u.yc):(0,a.Z)((e||u.yF)+x,n.length||u.g5,v||u.yc)}),(0,p.jsx)(c.Rk,{columnWidth:e+x,comp:this.renderItem,gutterWidth:0,layout:t?g:null!=i?i:"basic",items:n,loadItems:r,measurementStore:s,minCols:v,ref:e=>{o&&(o.current=e)},scrollContainer:y,virtualize:f})]})}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}h(m,"defaultProps",{gutterWidth:u.ZZ,isGridCentered:!0,minCols:u.yc,paddingStyle:"simplified",virtualize:!0});class _ extends i.Component{constructor(...e){super(...e),f(this,"renderItem",(e=>{const{comp:t}=this.props;return(0,p.jsx)(r.Z,{name:"MasonryPerfTimingItem",children:(0,p.jsx)(t,{...e})})})),f(this,"loadItems",(()=>{const{isFetching:e,loadItems:t}=this.props;!e&&t&&t()}))}render(){const{cacheKey:e,columnWidth:t,flexible:n,gutterWidth:i,isGridCentered:r,items:s,layout:a,masonryRef:l,minCols:d,paddingStyle:c,scrollContainerRef:u,serverRender:h,virtualize:f}=this.props;return(0,p.jsx)(m,{columnWidth:t,comp:this.renderItem,flexible:n,gutterWidth:i,isGridCentered:r,items:s,layout:a,loadItems:this.loadItems,masonryRef:l,measurementStore:(0,o.Z)(e),minCols:d,paddingStyle:c,scrollContainerRef:u,serverRender:h,virtualize:f})}}function v({cacheKey:e,columnWidth:t,comp:n,flexible:i,gutterWidth:r,isAtEnd:o,isFetching:a,isGridCentered:l=!0,isLoaded:d,items:c,pinData:u,layout:h,loadItems:m,masonryRef:f,minCols:v,paddingStyle:x,scrollContainerRef:g,serverRender:b=!0,virtualize:y=!0,includeBackgroundImages:P,includeVideos:C}){return(0,p.jsx)(s.Z,{isAtEndOfFeed:o,pinData:u,itemCount:c.length,includeBackgroundImages:P,includeVideos:C,children:(0,p.jsx)(_,{cacheKey:e,columnWidth:t,comp:n,flexible:i,gutterWidth:r,isFetching:a,isGridCentered:l,items:c,layout:h,loadItems:m,masonryRef:f,minCols:v,paddingStyle:x,scrollContainerRef:g,serverRender:b,virtualize:y})})}},757184:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119);const r={};function o(e){if(null!=e)return r[e]&&r[e].screenWidth===window.innerWidth||(r[e]={screenWidth:window.innerWidth,cache:i.Rk.createMeasurementStore()}),r[e].cache}},463076:(e,t,n)=>{function i(e=236,t=16,n=2){let i="\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n}\n.gridCentered .static,\n.gridCentered .Masonry-Premount .Collection-Item {\n  position: absolute;\n  visibility: hidden;\n}\n.gridCentered .Masonry-Premount,\n.gridCentered .Masonry-Premount .AutoSizer,\n.gridCentered .Masonry-Premount .Collection {\n  width: auto !important;\n}\n";for(let r=n;r<t+1;r+=1){i+=`\n@media (min-width: ${r===n?0:r*e}px) and (max-width: ${(r+1)*e-1}px) {\n  .gridCentered {\n    width: ${r*e}px;\n  }\n  .gridCentered .Masonry-Premount .Collection-Item:nth-child(-n+${r}),\n  .gridCentered .static:nth-child(-n+${r}) {\n    position: static !important;\n    visibility: visible !important;\n    float: left;\n    display: block;\n  }\n}\n`}return i}n.d(t,{Z:()=>i})},720247:(e,t,n)=>{function i(e){let t=!1;return{promise:new Promise(((n,i)=>{e.then((e=>t?i({isCanceled:!0}):n(e)),(e=>i(t?{isCanceled:!0}:e)))})),cancel(){t=!0}}}n.d(t,{Z:()=>i})},317254:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(969853),r=n(667294),o=n(276602),s=n(543059);function a({children:e,isAtEndOfFeed:t,pinData:n,itemCount:a,includeBackgroundImages:l=!1,includeVideos:d=!1}){return(0,i.Z)({pinData:n,isAtEndOfFeed:t,includeBackgroundImages:l,includeVideos:d}),function(e){const t=(0,o.EV)(),n=(0,r.useRef)(null);(0,r.useEffect)((()=>{e!==n.current&&(n.current=e,t&&(0,s.ZP)(s.at))}),[!!t,e])}(a),e}},780280:(e,t,n)=>{n.d(t,{B:()=>l,LC:()=>s,P2:()=>o,fH:()=>a});var i=n(667294);const r=(0,i.createContext)(),o=r.Provider,s=({children:e})=>{const t=(0,i.useContext)(r);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)},a=({children:e})=>{const t=(0,i.useContext)(r);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)};function l(){const e=(0,i.useContext)(r);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e}},140582:(e,t,n)=>{function i(e,t){if(!t)return e;const n=new RegExp(/http(s?):/);if(!n.test(e)){const i=n.exec(t);if(i&&i.length){e=i[0]+e}}return e}n.d(t,{Z:()=>i})},342877:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),r=n(720247);function o(){const e=(0,i.useRef)([]),t=(0,i.useRef)({});return(0,i.useEffect)((()=>()=>{[...Object.keys(t.current).map((e=>t.current[e])),...e.current].forEach((e=>e()))}),[]),function(n,i){if(i){const e=t.current[i];e&&(e(),delete t.current[i])}const{cancel:o,promise:s}=(0,r.Z)(n);return i?t.current[i]=o:e.current.push(o),s}}},934523:(e,t,n)=>{n.d(t,{L1:()=>o,Rz:()=>l,WZ:()=>s,cI:()=>r,fe:()=>a,hu:()=>i});const i=64,r=80,o=22,s="HeaderContent",a=671,l={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},941353:(e,t,n)=>{n.d(t,{H:()=>d,N:()=>l});var i=n(667294),r=n(505920),o=n(425288),s=n(785893);const{Provider:a,useHook:l}=(0,o.Z)("LastSavedTo");function d({children:e}){const[t,n]=(0,i.useState)();(0,r.Z8)("BoardPickerBoardsShortlistResource",(e=>{if(!t){const t=e.response.resource_response.data;n(t)}}));const o=(0,i.useCallback)((e=>{const i=t?t.filter((t=>t.id!==e.id)):[];n([e,...i])}),[t]),l=(0,i.useMemo)((()=>({lastSavedTo:t,saveToBoard:o})),[t,o]);return(0,s.jsx)(a,{value:l,children:e})}},935409:(e,t,n)=>{function i(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function r(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function o(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function s({viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:i}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:i}}}n.d(t,{Br:()=>r,eo:()=>s,md:()=>o,yT:()=>i})},482546:(e,t,n)=>{n.d(t,{Ge:()=>a,JS:()=>r,P_:()=>o,h2:()=>l});var i=n(6637);function r(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}const o=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),s=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),a=e=>t=>(t(s(e,!0)),i.ZP.create("UserBlockResource",{blocked_user_id:e}).callCreate().catch((()=>t(s(e,!1))))),l=e=>t=>(t(s(e,!1)),i.ZP.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch((()=>t(s(e,!0)))))}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/57098-ada2c0103e5958e9.mjs.map